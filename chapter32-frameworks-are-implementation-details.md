# 32장 프레임워크는 세부사항이다

> 프레임워크는 인기가 많고, 무료인데다 강력하며 유용하다.
> 하지만 프레임워크는 아키텍처가 될 수 없다.

## 프레임워크 제작자

> 프레임워크 제작자는 당신이 풀어야할 특별한 관심사를 염두에 두지 않는다.
> 당신이 풀어야 할 문제도 알지 못하기 떄문이다.


> 프레임워크 제작자는 자신이 해결해야 할 고유한 문제나 자신의 동료와 친구들의 문제를 알고있다.
> 그리고 그러한 문제를 해결하기 위해 프레임워크를 만들지, 당신의 문제를 해결하기 위해서가 아니다.


## 혼인 관계의 비대칭성

- 프레임워크 제작자와 우리의 관계는 일방적이다.
    - 우리는 프레임워크에 큰 헌신을 하지만, 제작자는 아무런 헌신을 하지 않기 때문이다.

- 제작자는 우리가 프레임워크 혼인하기를 바란다.
    - 프레임워크와 강하게 결합하기를 원하기 때문이다.
    - 하지만 이 관계는 일방적인 관계고, 위험과 부담은 오롯이 우리가 감수한다.

## 위험 요인

- 프레임워크의 아키텍처가 깔끔하지 않은 경우가 많다. 
    - 의존성 규칙을 위반하는 경향이 있다. 
- 초기 기능을 만들때는 도움이 되지만, 제품이 성숙해지면 제공하는 기능과 틀을 벗어나려고한다.
- 프레임워크는 우리가 원하지 않는 방향으로 진화할 수 도 있다.
- 더 나은 프레임워크 등장시, 갈아타고 싶을 수도 있다.


## 해결책

- 프레임워크 사용시, 프레임워크와 거리를 둔다.
   - 프록시를 이용해 업무 규칙에 플러그인할 수 있는 컴포넌트에 이들 프록시를 위치시킨다.
- 프레임워크가 핵심 코드 안으로 들어오지 못하게 한다.
   - 예를 들어 `@autowired`이 업무 객체 도처에 산재해서는 안된다.
   - 업무 객체는 절대로 스프링에 대해 몰라야한다. 
   - 차라리 main class가 알도록 하자.

## 이제 선언합니다

프레임워크를 사용하고, 강하게 결합해야하는 경우도 반드시 존재하지만, 이후에도 항상 함께해야하는 것을 명심해야한다.
그래서 가볍게 시작하면 안된다.

## 결론

처음부터 프레임워크와 결혼하려고 하지말고, 다른 방법이 있는지 찾아보자.